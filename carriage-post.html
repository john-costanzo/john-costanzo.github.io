<!DOCTYPE html>
<html>
  <head>
    <title>Redirecting to a specified Carriage Post edition</title>

    <script>
      const PARAMS = {};

      function getAllUrlParams(url) {
	  const queryString = url ? url.split('?')[1] : window.location.search.slice(1);

	  if (queryString) {
	      queryString.split('&').forEach(param => {
		  const [key, value] = param.split('=');
		  PARAMS[key] = decodeURIComponent(value);
	      });
	  }

	  return PARAMS;
      }

      // Usage
      const params = getAllUrlParams();
      console.log(params);
    </script>

  </head>
  <body>
    <h1>Passed Parameters</h1>
    <script>
      getAllUrlParams();

      var base_url = "https://www.cphassn.org/editor_upload/File/Carriage%20Post/";
      var edition = PARAMS[ 'edition' ];
      console.log( "base_url=" + base_url );
      console.log( "edition=" + edition );
      window.location.href = base_url + edition;
    </Script>
  </body>
</html>
